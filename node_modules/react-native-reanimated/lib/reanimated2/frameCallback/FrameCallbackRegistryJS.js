import { runOnUI } from '../core';
import { prepareUIRegistry } from './FrameCallbackRegistryUI';
export default class FrameCallbackRegistryJS {
    constructor() {
        this.nextCallbackId = 0;
        prepareUIRegistry();
    }
    registerFrameCallback(callback) {
        if (!callback) {
            return -1;
        }
        const callbackId = this.nextCallbackId;
        this.nextCallbackId++;
        runOnUI(() => {
            'worklet';
            global._frameCallbackRegistry.registerFrameCallback(callback, callbackId);
        })();
        return callbackId;
    }
    unregisterFrameCallback(frameCallbackId) {
        runOnUI(() => {
            'worklet';
            global._frameCallbackRegistry.unregisterFrameCallback(frameCallbackId);
        })();
    }
    manageStateFrameCallback(frameCallbackId, state) {
        runOnUI(() => {
            'worklet';
            global._frameCallbackRegistry.manageStateFrameCallback(frameCallbackId, state);
        })();
    }
}
